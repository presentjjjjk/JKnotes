# 动态规划

前面介绍的线性规划,整数规划的决策变量都是静态的,在求解过程中都是以集合的形式被统一考虑的,但是,很多时候的决策问题的决策变量并不能同时考虑,决策按照时间会分为多阶段,决策变量需要分批,分期处理.面对这种多阶段决策问题,就有了所谓动态规划这一种数学方法.

动态规划把决策按照时间分批,把一个多阶段决策问题变成一个个相互联系的单阶段决策问题,并且求解这个决策序列.

下面介绍动态规划的基本概念:

## 动态规划的基本概念

在多阶段决策问题中,我们需要在每一个阶段做出相应的决策,决策记做$u_k$,所有决策的序列我们把它称作一个策略,显然,动态规划的目的在于寻找最优策略.

在每个阶段中,都存在着状态变量输入$s_k$和输出$s_{k+1}$以及指标函数$v_k$,通过指标函数值评价这个策略带来的决策效益大小:

$$
v_k=v_k(s_k,u_k)
$$

输出是输入和决策的函数,这个函数被称作状态转移方程:

$$
s_{k+1}=T_k(s_k,u_k)
$$

具体的图示如下:

!!! info "图示"

    $$
    u_k\\
    \downarrow\\
    s_k\rightarrow \text{阶段k}\rightarrow s_{k+1}\\
    \uparrow\\
    v_k=v_k(s_k,u_k)
    $$

## 动态规划实例

### 背包问题

一个爬山者,它的背包的容量是$C$,设总共有$n$件物品可以被他装入背包中,物品$j$的使用价值是$c_j$,重量为$p_j$,问,在不超出背包容量的前提下,他该如何选择物品?

我们定义一个0-1决策变量$x_j$来代表$j$物品是否被他放入背包中,那么问题可以描述为:

$$
\begin{aligned}
\min z=\sum_{j=1}^n c_jx_j \\
s.t. \sum_{i=1}^n p_jx_j\le C
\end{aligned}
$$

这其实是一个静态规划问题,完全可以用整数规划来进行求解,但是,我们也可以按照物品$k$被放入的顺序进行时间划分,然后使用动态规划求解这个问题.

对于前k个物品和容量为$w$背包,其能装入的最大价值为$V(k,w_k)$,那么我们对第$k+1$件物品展开讨论,如果他没有被放入,那么其价值就和之前一样,如果他被放入,那么背包的容量相应会减少$p_k$,于是得到状态转移方程:

$$
V(k+1,w)=\max\{V(k,w),V(k,w-p_k)+c_k\}
$$

$V(k+1,w)$代表前$k+1$件物品和容量为$w$的背包所能包含的最大价值.

注意到0个物品的情况为为$V(0,w)=0$

我们要求的是$V(n,C)$